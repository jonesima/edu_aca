<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - EduSphere Academy</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap");
      body { font-family: "Inter", sans-serif; }
      .sidebar { width: 250px; transition: all 0.3s ease; }
      .main-content { margin-left: 250px; transition: all 0.3s ease; }
      @media (max-width: 768px) {
        .sidebar { transform: translateX(-100%); position: fixed; z-index: 40; height: 100vh; }
        .sidebar.open { transform: translateX(0); }
        .main-content { margin-left: 0; }
      }
      .nav-link.active { background-color: #4338ca; color: #fff; }
      .stat-card { transition: all 0.3s ease; }
      .stat-card:hover { transform: translateY(-3px); }
    </style>
  </head>
  <body class="bg-gray-100">
    <!-- Sidebar -->
    <div class="sidebar bg-gray-900 text-white fixed inset-y-0 left-0 z-50">
      <div class="flex items-center justify-between h-16 px-4 bg-gray-800">
        <div class="flex items-center">
          <i data-feather="book-open" class="h-8 w-8 text-indigo-400"></i>
          <span class="ml-2 text-xl font-bold">EduSphere</span>
        </div>
        <button class="md:hidden" onclick="toggleSidebar()">
          <i data-feather="x" class="h-6 w-6"></i>
        </button>
      </div>
      <nav id="sideNav" class="mt-8 px-4 space-y-1">
        <a href="#dashboard" class="nav-link flex items-center px-4 py-3 rounded-lg active">
          <i data-feather="home" class="h-5 w-5"></i><span class="ml-3">Dashboard</span>
        </a>
        <a href="#students" class="nav-link flex items-center px-4 py-3 rounded-lg">
          <i data-feather="users" class="h-5 w-5"></i><span class="ml-3">Students</span>
        </a>
        <a href="#teachers" class="nav-link flex items-center px-4 py-3 rounded-lg">
          <i data-feather="user-check" class="h-5 w-5"></i><span class="ml-3">Teachers</span>
        </a>
        <a href="#classes" class="nav-link flex items-center px-4 py-3 rounded-lg">
          <i data-feather="book" class="h-5 w-5"></i><span class="ml-3">Classes</span>
        </a>
        <a href="#reports" class="nav-link flex items-center px-4 py-3 rounded-lg">
          <i data-feather="bar-chart-2" class="h-5 w-5"></i><span class="ml-3">Reports</span>
        </a>
        <a href="#settings" class="nav-link flex items-center px-4 py-3 rounded-lg">
          <i data-feather="settings" class="h-5 w-5"></i><span class="ml-3">Settings</span>
        </a>
      </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Header -->
      <header class="bg-white shadow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between h-16">
            <div class="flex items-center">
              <button class="md:hidden" onclick="toggleSidebar()">
                <i data-feather="menu" class="h-6 w-6 text-gray-500"></i>
              </button>
              <h1 id="pageTitle" class="ml-2 md:ml-0 text-2xl font-bold text-gray-900">Dashboard</h1>
            </div>
            <div class="flex items-center">
              <div class="relative mr-4">
                <i data-feather="search" class="absolute left-3 top-2.5 h-4 w-4 text-gray-400"></i>
                <input type="text" placeholder="Search..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500" />
              </div>
              <div class="relative ml-3 flex items-center space-x-4">
                <div class="relative">
                  <i data-feather="bell" class="h-6 w-6 text-gray-500"></i>
                  <span class="absolute -top-1 -right-1 bg-red-500 text-white rounded-full text-xs w-4 h-4 flex items-center justify-center">3</span>
                </div>
                <div class="flex items-center">
                  <img class="h-8 w-8 rounded-full" src="http://static.photos/people/200x200/1" alt="" />
                  <span class="ml-2 text-sm font-medium text-gray-700">Admin User</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Dynamic Module Container -->
      <main id="moduleContainer" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Default dashboard content will be injected here by admin.js -->
      </main>
    </div>

    <!-- Scripts -->
    <script type="module" src="./supabase-client.js"></script>
    <script type="module" src="./admin.js"></script>
  </body>
</html>
